<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
	
	<extension point="org.eclipse.ui.ide.projectNatureImages">
		<image
			icon="icons/project-nature.ovr.png"
			id="LANG_PROJECT_ID.ide.ui.NatureImage"
			natureId="LANG_PROJECT_ID.ide.core.nature">
		</image>
	</extension>
	
	<extension point="org.eclipse.ui.perspectives">
		<perspective
			class="LANG_PROJECT_ID.ide.ui.LANGUAGE_Perspective"
			icon="icons/views/Perspective.16.png"
			id="LANG_PROJECT_ID.ide.ui.Perspective"
			name="%LangPerspective.name">
		</perspective>
	</extension>
	
	<extension point="org.eclipse.ui.perspectiveExtensions">
		<perspectiveExtension targetID="LANG_PROJECT_ID.ide.ui.Perspective">
			<showInPart id="org.eclipse.ui.navigator.ProjectExplorer" />
		</perspectiveExtension>
	</extension>
	
	<extension point="org.eclipse.core.runtime.preferences">
		<initializer class="LANG_PROJECT_ID.ide.ui.LANGUAGE_UIPreferencesInitializer"/>
	</extension>
	
	<!-- ============ EDITOR ============= -->
	
	
	<extension point="org.eclipse.ui.editors">
		<editor
		 class="LANG_PROJECT_ID.ide.ui.editor.LANGUAGE_Editor"
		 contributorClass="LANG_PROJECT_ID.ide.ui.editor.LANGUAGE_EditorActionContributor"
		 default="true"
		 icon="icons/obj/editor_file.png"
		 id="LANG_PROJECT_ID.ide.ui.Editors.SourceEditor"
		 name="%LangEditor.name">
			<contentTypeBinding contentTypeId="LANG_PROJECT_ID.ide.core.content.source" />
		</editor>
	</extension>
	
	<extension point="org.eclipse.ui.contexts">
		<context
			name="%LangEditContext.name"
			description="%LangEditContext.description"
			parentId="org.eclipse.ui.textEditorScope"
			id="LANG_PROJECT_ID.ide.ui.Contexts.Editor">
		</context>
	</extension>
	
	<extension point="org.eclipse.core.expressions.definitions">
		<definition id="LANG_PROJECT_ID.ide.ui.expressions.InContext">
			<or>
				<with variable="activeEditorId"> 
					<equals value="LANG_PROJECT_ID.ide.ui.Editors.SourceEditor"/> 
				</with>
				<with variable="activeWorkbenchWindow.activePerspective"> 
					<equals value="LANG_PROJECT_ID.ide.ui.Perspective"/> 
				</with>
			</or>
		</definition>
	</extension>
	
	
	<!-- ============ EDITOR - Other ============= -->
	
	<extension point="org.eclipse.ui.workbench.texteditor.hyperlinkDetectorTargets">
		<target 
			id="LANG_PROJECT_ID.ide.ui.Editor.HyperlinkCodeTarget"
			name="%hyperlinkDetector.target.name">
		<context type="org.eclipse.ui.texteditor.ITextEditor" />
		</target>
	</extension>
	<extension point="org.eclipse.ui.workbench.texteditor.hyperlinkDetectors">
		<hyperlinkDetector
			class="LANG_PROJECT_ID.ide.ui.editor.LANGUAGE_HyperlinkDetector"
			id="LANG_PROJECT_ID.ide.ui.Editor.HyperlinkDetector"
			name="%hyperlinkDetector.name"
			targetId="LANG_PROJECT_ID.ide.ui.Editor.HyperlinkCodeTarget">
		</hyperlinkDetector>
	</extension>
	
	<extension point="org.eclipse.ui.editors.templates">
		<contextType
			class="LANG_PROJECT_ID.ide.ui.editor.templates.LANGUAGE_TemplateContextType"
			id="LANG_PROJECT_ID.ide.ui.TemplateContextType"
			name="%LangTemplateContext.name">
		</contextType>
		<include
			file="templates/default-templates.xml"
			translations="templates/default-templates.properties">
		</include>
	</extension>
	
	<!-- ============ Actions/Commands ============= -->
	
	<extension point="org.eclipse.ui.commands">
		<category
			id="LANG_PROJECT_ID.ide.ui.commands.Category"
			name="%CommandsCategory.name"
			description="%CommandsCategory.description"
		/>
		
		<command categoryId="LANG_PROJECT_ID.ide.ui.commands.Category"
			id="LANG_PROJECT_ID.ide.ui.commands.openDefinition"
			name="%OpenDefinitionAction.name"
			description="%OpenDefinitionAction.tooltip"
		/>
		
		<command categoryId="LANG_PROJECT_ID.ide.ui.commands.Category"
			id="LANG_PROJECT_ID.ide.ui.commands.GoToMatchingBracket"
			name="%GoToMatchingBracketAction.name"
			description="%GoToMatchingBracketAction.description"
		/>
		
		<command categoryId="LANG_PROJECT_ID.ide.ui.commands.Category"
			id="LANG_PROJECT_ID.ide.ui.commands.ToggleComment"
			name="%ToggleCommentAction.name"
			description="%ToggleCommentAction.description"
		/>
		
		<command 
			categoryId="LANG_PROJECT_ID.ide.ui.commands.Category"
			id="LANG_PROJECT_ID.ide.ui.commands.QuickOutline"
			name="%QuickOutlineAction.name"
			description="%QuickOutlineAction.description"
		/>
		
	</extension>
	
	<extension point="org.eclipse.ui.bindings">
		<key
			commandId="LANG_PROJECT_ID.ide.ui.commands.openDefinition"
			contextId="LANG_PROJECT_ID.ide.ui.Contexts.Editor"
			schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
			sequence="F3">
		</key>
		<key
			commandId="LANG_PROJECT_ID.ide.ui.commands.GoToMatchingBracket"
			contextId="LANG_PROJECT_ID.ide.ui.Contexts.Editor"
			schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
			sequence="M1+M2+P">
		</key>
		<key
			commandId="LANG_PROJECT_ID.ide.ui.commands.ToggleComment"
			contextId="LANG_PROJECT_ID.ide.ui.Contexts.Editor"
			schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
			sequence="M1+M2+C">
		</key>
		<key
			commandId="LANG_PROJECT_ID.ide.ui.commands.ToggleComment"
			contextId="LANG_PROJECT_ID.ide.ui.Contexts.Editor"
			schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
			sequence="M1+/">
		</key>
		<key
			commandId="LANG_PROJECT_ID.ide.ui.commands.QuickOutline"
			contextId="LANG_PROJECT_ID.ide.ui.Contexts.Editor"
			schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
			sequence="M1+O">
		</key>
	</extension>
	
	<!-- ________ Menu/UI contributions ________ -->
	
	<extension point="org.eclipse.ui.menus">
		<menuContribution locationURI="menu:org.eclipse.ui.main.menu?after=edit">
			<menu
				id="LANG_PROJECT_ID.ide.ui.sourceMenu"
				label="Source"
				mnemonic="S">
				<separator name="comment" visible="true"/>
				<separator name="format" visible="true"/>
				<separator name="additions" visible="true"/>
			</menu>
		</menuContribution>
	</extension>
	
	<!-- ============ Preference pages ============= -->
	
	<extension point="org.eclipse.ui.preferencePages">
		<page
			class="LANG_PROJECT_ID.ide.ui.preferences.LANGUAGE_Root__PreferencePage"
			id=   "LANG_PROJECT_ID.ide.ui.PreferencePages.Root"
			name="%LangRootPreferencePage.name">
		</page>
		
		<page
			category="LANG_PROJECT_ID.ide.ui.PreferencePages.Root"
			class="LANG_PROJECT_ID.ide.ui.preferences.LANGUAGE_DaemonPreferencePage"
			id=   "LANG_PROJECT_ID.ide.ui.PreferencePages.LANGUAGE_Daemon"
			name="%LangDaemonToolPrefPage.name">
		</page>
		<page
			category="LANG_PROJECT_ID.ide.ui.PreferencePages.Root"
			class="LANG_PROJECT_ID.ide.ui.preferences.LANGUAGE_ToolsConsolePrefPage"
			id=   "LANG_PROJECT_ID.ide.ui.PreferencePages.LANGUAGE_ToolsConsole"
			name="%LangToolsConsolePrefPage.name">
		</page>
		
		<page
			category="LANG_PROJECT_ID.ide.ui.PreferencePages.Root"
			class="LANG_PROJECT_ID.ide.ui.preferences.EditorPreferencePage"
			id=   "LANG_PROJECT_ID.ide.ui.PreferencePages.Editor"
			name="%LangEditorPreferencePage.name">
		</page>
		<page
			category="LANG_PROJECT_ID.ide.ui.PreferencePages.Editor"
			class="LANG_PROJECT_ID.ide.ui.preferences.LANGUAGE_EditorTypingPreferencePage"
			id=   "LANG_PROJECT_ID.ide.ui.PreferencePages.EditorSmartTyping"
			name="%LangEditorTypingPreferencePage.name">
		</page>
		<page
			category="LANG_PROJECT_ID.ide.ui.PreferencePages.Editor"
			class="LANG_PROJECT_ID.ide.ui.preferences.SourceColoringPreferencePage"
			id=   "LANG_PROJECT_ID.ide.ui.PreferencePages.SourceColoring"
			name="%LangEditorSyntaxColoringPreferencePage.name">
		</page>
		<page
			category="LANG_PROJECT_ID.ide.ui.PreferencePages.Editor"
			id=      "LANG_PROJECT_ID.ide.ui.PreferencePages.Editor.CodeTemplates"
			class="LANG_PROJECT_ID.ide.ui.editor.templates.LANGUAGE_TemplatePreferencePage"
			name="%LangCodeTemplatesPreferencePage.name" />
		
	</extension>
	
	
	<!-- ============ Wizards ============= -->
	
	<extension point="org.eclipse.ui.newWizards">
		<category
			id="LANG_PROJECT_ID.ide.ui.category"
			name="%LangWizardsCategory.name"/>
		<wizard
			category="LANG_PROJECT_ID.ide.ui.category"
			id="LANG_PROJECT_ID.ide.ui.wizards.NewProjectWizard"
			class="LANG_PROJECT_ID.ide.ui.wizards.LANGUAGE_ProjectWizard"
			icon="icons/actions/new_project_wizard.16.png"
			name="%NewProjectWizard.name"
			finalPerspective="LANG_PROJECT_ID.ide.ui.Perspective"
			preferredPerspectives="LANG_PROJECT_ID.ide.ui.Perspective"
			project="true">
		</wizard>
	</extension>
	
	
	<!-- ============ Launch ============= -->
	
	<extension point="org.eclipse.debug.ui.launchConfigurationTypeImages">
		<launchConfigurationTypeImage
			configTypeID="LANG_PROJECT_ID.ide.core.LaunchConfigurationType"
			icon="icons/actions/application_launch.png"
			id="LANG_PROJECT_ID.ide.core.LaunchConfigurationType_Image">
		</launchConfigurationTypeImage>
	</extension>
	
	<extension point="org.eclipse.debug.ui.launchConfigurationTabGroups">
		<launchConfigurationTabGroup
			class="LANG_PROJECT_ID.ide.ui.launch.LANGUAGE_TabGroup"
			description="%LangTabGroup.description"
			id="LANG_PROJECT_ID.ide.ui.LANGUAGE_LaunchTabGroup"
			type="LANG_PROJECT_ID.ide.core.LaunchConfigurationType">
		</launchConfigurationTabGroup>
	</extension>
	
</plugin>
